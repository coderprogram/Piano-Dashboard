<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sight Reading Practice - Piano Practice</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/vexflow@5.0.0/build/cjs/vexflow.js"></script>
</head>

<body>
    <div class="container">
        <header>
            <div class="header-content">
                <div>
                    <h1>üìñ Sight Reading Practice</h1>
                    <a href="/" class="btn btn-secondary">‚Üê Back to Home</a>
                </div>
                <button id="dark-mode-toggle" class="dark-mode-btn">üåô</button>
            </div>
        </header>

        <div class="sight-reading-area">
            <div class="controls-panel">
                <h3>Generate Exercise</h3>

                <div class="control-group">
                    <label for="difficulty">Difficulty:</label>
                    <select id="difficulty">
                        <option value="beginner">Beginner</option>
                        <option value="intermediate">Intermediate</option>
                        <option value="advanced">Advanced</option>
                    </select>
                </div>

                <div class="control-group">
                    <label for="clef">Clef:</label>
                    <select id="clef">
                        <option value="treble">Treble</option>
                        <option value="bass">Bass</option>
                    </select>
                </div>

                <div class="action-buttons">
                    <button id="generate-btn" class="btn btn-primary">Generate Melody</button>
                    <button id="export-btn" class="btn btn-secondary" disabled>Export PDF</button>
                </div>
            </div>

            <div class="melody-display">
                <div id="melody-staff"></div>
                <div id="melody-info" class="melody-info hidden">
                    <div class="info-row">
                        <span><strong>Key:</strong> <span id="key-signature">-</span></span>
                        <span><strong>Time:</strong> <span id="time-signature">-</span></span>
                        <span><strong>Clef:</strong> <span id="clef-type">-</span></span>
                    </div>
                </div>
            </div>

            <div class="difficulty-info">
                <h4>Difficulty Levels:</h4>
                <div class="difficulty-cards">
                    <div class="diff-card">
                        <h5>Beginner</h5>
                        <ul>
                            <li>Simple keys (C, G, F, Am)</li>
                            <li>Basic time signatures (4/4, 3/4)</li>
                            <li>Quarter and half notes</li>
                            <li>4 measures</li>
                        </ul>
                    </div>
                    <div class="diff-card">
                        <h5>Intermediate</h5>
                        <ul>
                            <li>Up to 2 sharps/flats</li>
                            <li>6/8 time included</li>
                            <li>Eighth notes and dotted quarters</li>
                            <li>8 measures</li>
                        </ul>
                    </div>
                    <div class="diff-card">
                        <h5>Advanced</h5>
                        <ul>
                            <li>All major/minor keys</li>
                            <li>Complex time signatures (5/4, 7/8)</li>
                            <li>Sixteenth notes and syncopation</li>
                            <li>16 measures</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
    <script>
        // Initialize sight reading when page loads
        document.addEventListener('DOMContentLoaded', function () {
            initDarkMode();
            initSightReading();
        });
    </script>
</body>

</html>